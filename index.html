
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Угадай вокалиста</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #101010;
            color: #f0f0f0;
            text-align: center;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: #333333;
            padding: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }
        header img {
            height: 100px;
            border-radius: 10%;
        }
        h1 {
            color: #FFD700;
            margin: 20px 0;
            font-size: 2em;
        }
        .question {
            color: #00BFFF;
            font-size: 1.5em;
            margin: 20px;
        }
        .question span {
            font-weight: bold;
        }
        .options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 20px;
        }
        .options button {
            background-color: #FFD700;
            color: #101010;
            padding: 15px 30px;
            margin: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            min-width: 150px;
            max-width: 180px;
            transition: background-color 0.3s;
            flex: 1 1 45%;
        }
        .options button:hover {
            background-color: #f0e130;
        }
        .end-btn {
            background-color: #00BFFF;
            color: #101010;
            padding: 10px 30px;
            margin: 20px auto;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.2em;
            transition: background-color 0.3s;
            display: block;
        }
        .end-btn:hover {
            background-color: #00a3e0;
        }
        /* Модальное окно для результатов */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8);
        }
        .modal-content {
            background-color: #1a1a1a;
            margin: 10% auto;
            padding: 30px 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 400px;
            border-radius: 10px;
            color: #f0f0f0;
            position: relative;
            text-align: center;
        }
        .close {
            color: #FFD700;
            position: absolute;
            top: 10px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close:hover,
        .close:focus {
            color: #f0e130;
            text-decoration: none;
        }
        #result-text {
            font-size: 1.2em;
            margin-top: 20px;
            white-space: pre-line;
        }
        /* Модальное окно обратной связи */
        .feedback-modal {
            display: none;
            position: fixed;
            z-index: 2;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8);
        }
        .feedback-content {
            background-color: #1a1a1a;
            margin: 10% auto;
            padding: 25px 20px;
            border: 1px solid #888;
            width: 75%;
            max-width: 350px;
            border-radius: 10px;
            color: #f0f0f0;
            position: relative;
            text-align: center;
        }
        .feedback-close {
            color: #FFD700;
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
        }
        .feedback-close:hover,
        .feedback-close:focus {
            color: #f0e130;
            text-decoration: none;
        }
        .feedback-ok-btn {
            background-color: #00BFFF;
            color: #101010;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
            width: 60%;
            margin: 20px auto 0;
            display: block;
        }
        .feedback-ok-btn:hover {
            background-color: #00a3e0;
        }
        /* Кнопка "Посмотри клип" */
        .watch-clip-btn {
            background-color: #00BFFF;
            color: #101010;
            padding: 15px 30px;
            margin: 10px auto;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
            display: block;
        }
        .watch-clip-btn:hover {
            background-color: #00a3e0;
        }
        /* Уменьшена высота кнопки "Играем еще раз" */
        .restart-btn {
            padding: 10px 30px;
            margin-top: 10px;
            cursor: pointer;
            background-color: #FFD700;
            color: #101010;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        .restart-btn:hover {
            background-color: #f0e130;
        }
        @media (max-width: 600px) {
            header {
                flex-direction: row;
            }
            header img {
                height: 80px;
            }
            .options button {
                font-size: 0.9em;
                padding: 10px 20px;
                min-width: 140px;
                flex: 1 1 45%;
            }
            .modal-content, .feedback-content {
                width: 90%;
                margin: 20% auto;
            }
        }
    </style>
</head>
<body>

<header>
    <img src="JohnSid.jpg" alt="Johnny Rotten">
    <img src="Smith.jpg" alt="Robert Smith">
    <img src="Morr.jpg" alt="Morrissey">
</header>

<h1>Угадай вокалиста</h1>

<div class="question">
    Назовите вокалиста группы - <span id="group-name"></span>
</div>

<div class="options">
    <button onclick="checkAnswer(0)" id="option-1">Option 1</button>
    <button onclick="checkAnswer(1)" id="option-2">Option 2</button>
    <button onclick="checkAnswer(2)" id="option-3">Option 3</button>
    <button onclick="checkAnswer(3)" id="option-4">Option 4</button>
</div>

<button class="end-btn" onclick="endQuiz()">Завершить</button>

<!-- Модальное окно для результатов -->
<div id="resultModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>Результаты игры</h2>
        <p id="result-text"></p>
        <button class="restart-btn" onclick="restartQuiz()">Играем еще раз?</button>
        <p>ИЛИ</p>
        <button class="watch-clip-btn" onclick="watchClip()">Посмотри клип из этой подборки</button>
    </div>
</div>

<!-- Модальное окно обратной связи -->
<div id="feedbackModal" class="modal feedback-modal">
    <div class="feedback-content">
        <span class="feedback-close" onclick="closeFeedbackModal()">&times;</span>
        <p id="feedback-text"></p>
        <p id="remaining-groups" style="margin-top: 10px; text-align: center;"></p>
        <button class="feedback-ok-btn" onclick="closeFeedbackModal()">OK</button>
    </div>
</div>

<script>
    // Исходные списки групп и вокалистов
    const initialGroups = [
        "Sex Pistols", "The Clash", "The Ramones", "The Velvet Underground", "The Stooges", "Joy Division",
        "The Smiths", "The Cure", "Talking Heads", "Bauhaus", "New Order", "The Fall", "Dead Kennedys", "Television",
        "Buzzcocks", "Wire", "Patti Smith Group", "X-Ray Spex", "The Damned", "The Cramps", "Public Image Ltd",
        "Gang of Four", "Hüsker Dü", "Depeche Mode", "Echo & the Bunnymen", "The Jesus and Mary Chain",
        "The Replacements"
    ];

    const initialVocalists = [
        "Johnny Rotten", "Joe Strummer", "Joey Ramone", "Lou Reed", "Iggy Pop", "Ian Curtis", "Morrissey",
        "Robert Smith",
        "David Byrne", "Peter Murphy",
        "Bernard Sumner", "Mark E. Smith", "Jello Biafra", "Tom Verlaine", "Pete Shelley", "Colin Newman",
        "Patti Smith",
        "Poly Styrene", "Dave Vanian",
        "Lux Interior", "John Lydon", "Jon King", "Bob Mould", "Dave Gahan", "Ian McCulloch", "Jim Reid",
        "Paul Westerberg"
    ];

    // Копируем исходные списки для использования в игре
    let groups = [...initialGroups];
    let vocalists = [...initialVocalists];

    let currentGroupIndex;
    let correctAnswerIndex;
    let currentVocalist;
    let score = 0;
    let questionsAsked = 0;

    function startQuiz() {
        score = 0;
        questionsAsked = 0;
        groups = [...initialGroups];
        vocalists = [...initialVocalists];
        askQuestion();
    }

    function askQuestion() {
        if (groups.length === 0) {
            endQuiz();
            return;
        }

        currentGroupIndex = Math.floor(Math.random() * groups.length);
        const currentGroup = groups[currentGroupIndex];
        currentVocalist = vocalists[currentGroupIndex];

        document.getElementById("group-name").textContent = currentGroup;

        correctAnswerIndex = Math.floor(Math.random() * 4);
        const answers = [];

        // Получаем все возможные неправильные ответы
        const wrongAnswers = vocalists.filter(v => v !== currentVocalist);
        shuffleArray(wrongAnswers);

        for (let i = 0; i < 4; i++) {
            if (i === correctAnswerIndex) {
                answers.push(currentVocalist);
            } else {
                if (wrongAnswers.length > 0) {
                    answers.push(wrongAnswers.pop());
                } else {
                    // Если недостаточно неправильных ответов, повторяем текущий вокалист
                    answers.push(currentVocalist);
                }
            }
        }

        // Устанавливаем варианты ответов на кнопки
        for (let i = 0; i < 4; i++) {
            document.getElementById(`option-${i+1}`).textContent = answers[i];
        }

        // Удаляем использованную группу и вокалиста из списков
        groups.splice(currentGroupIndex, 1);
        vocalists.splice(currentGroupIndex, 1);

        questionsAsked++;
    }

    function checkAnswer(selectedIndex) {
        if (selectedIndex === correctAnswerIndex) {
            score++;
            showFeedback(true);
        } else {
            showFeedback(false);
        }
    }

    function showFeedback(isCorrect) {
        const feedbackModal = document.getElementById("feedbackModal");
        const feedbackText = document.getElementById("feedback-text");
        const remainingGroupsText = document.getElementById("remaining-groups");

        const remainingGroups = groups.length;
        feedbackText.textContent = isCorrect ? "Правильно!" : `Неверно! Правильный ответ: ${currentVocalist}`;
        remainingGroupsText.textContent = `Осталось групп: ${remainingGroups}`;
        feedbackModal.style.display = "block";
    }

    function closeFeedbackModal() {
        const feedbackModal = document.getElementById("feedbackModal");
        feedbackModal.style.display = "none";
        if (groups.length > 0) {
            askQuestion();
        } else {
            endQuiz();
        }
    }

    function endQuiz() {
        const resultText = document.getElementById("result-text");
        const correctAnswers = score;
        const incorrectAnswers = questionsAsked - score;
        const percentageCorrect = questionsAsked > 0 ? ((score / questionsAsked) * 100).toFixed(1) : 0;

        resultText.textContent = `Правильных ответов: ${correctAnswers}\nНеправильных ответов: ${incorrectAnswers}\nПроцент верных ответов: ${percentageCorrect}%`;
        document.getElementById("resultModal").style.display = "block";
    }

    function closeModal() {
        const resultModal = document.getElementById("resultModal");
        resultModal.style.display = "none";
        restartQuiz();
    }

    function restartQuiz() {
        score = 0;
        questionsAsked = 0;
        groups = [...initialGroups];
        vocalists = [...initialVocalists];
        document.getElementById("resultModal").style.display = "none";
        askQuestion();
    }

    function watchClip() {
        window.location.href = "https://www.youtube.com/watch?v=dQw4w9WgXcQ";
    }

    // Функция для перемешивания массива (Фишер-Йетс)
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    // Закрытие модальных окон при клике вне их содержимого
    window.onclick = function(event) {
        const resultModal = document.getElementById("resultModal");
        const feedbackModal = document.getElementById("feedbackModal");
        if (event.target == resultModal) {
            resultModal.style.display = "none";
            restartQuiz();
        }
        if (event.target == feedbackModal) {
            feedbackModal.style.display = "none";
            if (groups.length > 0) {
                askQuestion();
            } else {
                endQuiz();
            }
        }
    }

    // Запуск викторины при загрузке страницы
    startQuiz();
</script>

</body>
</html>

