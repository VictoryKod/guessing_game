<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Угадай вокалиста</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #101010;
            color: #f0f0f0;
            text-align: center;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: #333333;
            padding: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }
        header img {
            height: 100px;
            border-radius: 10%;
        }
        h1 {
            color: #FFD700;
            margin: 20px 0;
            font-size: 2em;
        }
        .question {
            color: #00BFFF;
            font-size: 1.5em;
            margin: 20px;
        }
        .question span {
            font-weight: bold;
        }
        .options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 20px;
        }
        .options button {
            background-color: #FFD700;
            color: #101010;
            padding: 15px 30px;
            margin: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            min-width: 150px;
            max-width: 180px;
            transition: background-color 0.3s;
            flex: 1 1 45%;
        }
        .options button:hover {
            background-color: #f0e130;
        }
        .end-btn {
            background-color: #00BFFF;
            color: #101010;
            padding: 10px 30px;
            margin: 20px auto;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.2em;
            transition: background-color 0.3s;
            display: block;
        }
        .end-btn:hover {
            background-color: #00a3e0;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8);
        }
        .modal-content {
            background-color: #1a1a1a;
            margin: 10% auto;
            padding: 30px 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 400px;
            border-radius: 10px;
            color: #f0f0f0;
            position: relative;
            text-align: center;
        }
        .close {
            color: #FFD700;
            position: absolute;
            top: 10px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close:hover,
        .close:focus {
            color: #f0e130;
            text-decoration: none;
        }
        #result-text {
            font-size: 1.2em;
            margin-top: 20px;
            white-space: pre-line;
        }
        .feedback-modal {
            display: none;
            position: fixed;
            z-index: 2;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8);
        }
        .feedback-content {
            background-color: #1a1a1a;
            margin: 10% auto;
            padding: 25px 20px;
            border: 1px solid #888;
            width: 75%;
            max-width: 350px;
            border-radius: 10px;
            color: #f0f0f0;
            position: relative;
            text-align: center;
        }
        .feedback-close {
            color: #FFD700;
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
        }
        .feedback-close:hover,
        .feedback-close:focus {
            color: #f0e130;
            text-decoration: none;
        }
        .feedback-ok-btn {
            background-color: #00BFFF;
            color: #101010;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
            width: 60%;
            margin: 20px auto 0;
            display: block;
        }
        .feedback-ok-btn:hover {
            background-color: #00a3e0;
        }
        .watch-clip-btn {
            background-color: #00BFFF;
            color: #101010;
            padding: 15px 30px;
            margin: 10px auto;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
            display: block;
        }
        .watch-clip-btn:hover {
            background-color: #00a3e0;
        }
        .restart-btn {
            padding: 10px 30px;
            margin-top: 10px;
            cursor: pointer;
            background-color: #FFD700;
            color: #101010;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        .restart-btn:hover {
            background-color: #f0e130;
        }
        @media (max-width: 600px) {
            header {
                flex-direction: row;
            }
            header img {
                height: 80px;
            }
            .options button {
                font-size: 0.9em;
                padding: 10px 20px;
                min-width: 140px;
                flex: 1 1 45%;
            }
            .modal-content, .feedback-content {
                width: 90%;
                margin: 20% auto;
            }
        }
    </style>
</head>
<body>

<header>
    <img src="JohnSid.jpg" alt="Johnny Rotten">
    <img src="Smith.jpg" alt="Robert Smith">
    <img src="Morr.jpg" alt="Morrissey">
</header>

<h1>Угадай вокалиста</h1>

<div class="question">
    Назовите вокалиста группы - <span id="group-name"></span>
</div>

<div class="options">
    <button onclick="checkAnswer(0)" id="option-1">Option 1</button>
    <button onclick="checkAnswer(1)" id="option-2">Option 2</button>
    <button onclick="checkAnswer(2)" id="option-3">Option 3</button>
    <button onclick="checkAnswer(3)" id="option-4">Option 4</button>
</div>

<button class="end-btn" onclick="endQuiz()">Завершить</button>

<div id="resultModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>Результаты игры</h2>
        <p id="result-text"></p>
        <button class="restart-btn" onclick="restartQuiz()">Играем еще раз?</button>
        <p>ИЛИ</p>
        <button class="watch-clip-btn" onclick="watchClip()">Посмотри клип из этой подборки</button>
    </div>
</div>

<div id="feedbackModal" class="modal feedback-modal">
    <div class="feedback-content">
        <span class="feedback-close" onclick="closeFeedbackModal()">&times;</span>
        <p id="feedback-text"></p>
        <p id="remaining-groups" style="margin-top: 10px; text-align: center;"></p>
        <button class="feedback-ok-btn" onclick="nextQuestion()">OK</button>
    </div>
</div>

<script>
    const groups = [
        "Sex Pistols", "The Clash", "The Ramones", "The Velvet Underground", "The Stooges", "Joy Division",
        "The Smiths", "The Cure", "Talking Heads", "Bauhaus", "New Order", "The Fall", "Dead Kennedys", "Television",
        "Buzzcocks", "Wire", "Patti Smith Group", "X-Ray Spex", "The Damned", "The Cramps", "Public Image Ltd",
        "Gang of Four", "Hüsker Dü", "Depeche Mode", "Echo & the Bunnymen", "The Jesus and Mary Chain",
        "The Replacements"
    ];

    const vocalists = [
        "Johnny Rotten", "Joe Strummer", "Joey Ramone", "Lou Reed", "Iggy Pop", "Ian Curtis", "Morrissey",
        "Robert Smith", "David Byrne", "Peter Murphy", "Bernard Sumner", "Mark E. Smith", "Jello Biafra", 
        "Tom Verlaine", "Pete Shelley", "Colin Newman", "Patti Smith", "Poly Styrene", "Dave Vanian", 
        "Lux Interior", "John Lydon", "Jon King", "Bob Mould", "Dave Gahan", "Ian McCulloch", "Jim Reid", 
        "Paul Westerberg"
    ];

    const correctAnswers = {
        "Sex Pistols": "Johnny Rotten", "The Clash": "Joe Strummer", "The Ramones": "Joey Ramone", 
        "The Velvet Underground": "Lou Reed", "The Stooges": "Iggy Pop", "Joy Division": "Ian Curtis", 
        "The Smiths": "Morrissey", "The Cure": "Robert Smith", "Talking Heads": "David Byrne", 
        "Bauhaus": "Peter Murphy", "New Order": "Bernard Sumner", "The Fall": "Mark E. Smith", 
        "Dead Kennedys": "Jello Biafra", "Television": "Tom Verlaine", "Buzzcocks": "Pete Shelley", 
        "Wire": "Colin Newman", "Patti Smith Group": "Patti Smith", "X-Ray Spex": "Poly Styrene", 
        "The Damned": "Dave Vanian", "The Cramps": "Lux Interior", "Public Image Ltd": "John Lydon", 
        "Gang of Four": "Jon King", "Hüsker Dü": "Bob Mould", "Depeche Mode": "Dave Gahan", 
        "Echo & the Bunnymen": "Ian McCulloch", "The Jesus and Mary Chain": "Jim Reid", 
        "The Replacements": "Paul Westerberg"
    };

    let currentGroups = [...groups];
    let score = 0;
    let incorrectAnswers = 0;

    function loadQuestion() {
        if (currentGroups.length === 0) {
            endQuiz();
            return;
        }

        const randomGroupIndex = Math.floor(Math.random() * currentGroups.length);
        const groupName = currentGroups[randomGroupIndex];
        document.getElementById("group-name").textContent = groupName;

        const correctVocalist = correctAnswers[groupName];
        const shuffledOptions = generateOptions(correctVocalist);

        document.getElementById("option-1").textContent = shuffledOptions[0];
        document.getElementById("option-2").textContent = shuffledOptions[1];
        document.getElementById("option-3").textContent = shuffledOptions[2];
        document.getElementById("option-4").textContent = shuffledOptions[3];
    }

    function generateOptions(correctVocalist) {
        const randomVocalists = vocalists
            .filter(v => v !== correctVocalist)
            .sort(() => Math.random() - 0.5)
            .slice(0, 3);

        const options = [correctVocalist, ...randomVocalists];
        return options.sort(() => Math.random() - 0.5);
    }

    function checkAnswer(optionIndex) {
        const groupName = document.getElementById("group-name").textContent;
        const correctVocalist = correctAnswers[groupName];
        const selectedVocalist = document.getElementById(`option-${optionIndex + 1}`).textContent;

        const feedbackModal = document.getElementById("feedbackModal");
        const feedbackText = document.getElementById("feedback-text");
        const remainingGroups = document.getElementById("remaining-groups");

        if (selectedVocalist === correctVocalist) {
            feedbackText.textContent = "Правильно!";
            score++;
        } else {
            feedbackText.textContent = `Неправильно! Правильный ответ: ${correctVocalist}`;
            incorrectAnswers++;
        }

        currentGroups = currentGroups.filter(group => group !== groupName);
        feedbackModal.style.display = "block";

        remainingGroups.textContent = `Осталось групп: ${currentGroups.length}`;
    }

    function nextQuestion() {
        document.getElementById("feedbackModal").style.display = "none";

        if (currentGroups.length > 0) {
            loadQuestion();
        } else {
            endQuiz();
        }
    }

    function endQuiz() {
        const modal = document.getElementById("resultModal");
        const resultText = document.getElementById("result-text");

        const totalQuestions = score + incorrectAnswers;
        const percentageCorrect = totalQuestions === 0 ? 0 : Math.round((score / totalQuestions) * 100);

        resultText.textContent = `Правильных ответов: ${score}\nНеправильных ответов: ${incorrectAnswers}\nПроцент правильных ответов: ${percentageCorrect}%`;

        modal.style.display = "block";
    }

    function closeModal() {
        document.getElementById("resultModal").style.display = "none";
    }

    function closeFeedbackModal() {
        document.getElementById("feedbackModal").style.display = "none";
    }

    function restartQuiz() {
        currentGroups = [...groups];
        score = 0;
        incorrectAnswers = 0;
        loadQuestion();
        closeModal();
    }

    function watchClip() {
        window.location.href = "https://www.youtube.com/watch?v=dQw4w9WgXcQ";
    }

    window.onload = loadQuestion;
</script>

</body>
</html>
